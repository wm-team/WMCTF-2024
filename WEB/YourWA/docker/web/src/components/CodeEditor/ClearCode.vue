<template>
  <div class="upbtn" @click="showMessage" @mouseout="resetMessage">
    <div class="tooltip">{{ message }}</div>
    <!-- https://www.iconfont.cn/collections/detail?spm=a313x.search_index.0.da5a778a4.6f763a81jBf9u2&cid=16071 -->
    <svg
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 1024 1024"
      width="100%"
      height="100%"
      fill="currentColor"
    >
      <path
        d="M896 298.666667H128c-25.6 0-42.666667-17.066667-42.666667-42.666667s17.066667-42.666667 42.666667-42.666667h768c25.6 0 42.666667 17.066667 42.666667 42.666667s-17.066667 42.666667-42.666667 42.666667z"
      ></path>
      <path
        d="M725.333333 981.333333H298.666667c-72.533333 0-128-55.466667-128-128V256c0-25.6 17.066667-42.666667 42.666666-42.666667s42.666667 17.066667 42.666667 42.666667v597.333333c0 25.6 17.066667 42.666667 42.666667 42.666667h426.666666c25.6 0 42.666667-17.066667 42.666667-42.666667V256c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666666 42.666667v597.333333c0 72.533333-55.466667 128-128 128zM682.666667 298.666667c-25.6 0-42.666667-17.066667-42.666667-42.666667V170.666667c0-25.6-17.066667-42.666667-42.666667-42.666667h-170.666666c-25.6 0-42.666667 17.066667-42.666667 42.666667v85.333333c0 25.6-17.066667 42.666667-42.666667 42.666667s-42.666667-17.066667-42.666666-42.666667V170.666667c0-72.533333 55.466667-128 128-128h170.666666c72.533333 0 128 55.466667 128 128v85.333333c0 25.6-17.066667 42.666667-42.666666 42.666667z"
      ></path>
      <path
        d="M426.666667 768c-25.6 0-42.666667-17.066667-42.666667-42.666667v-256c0-25.6 17.066667-42.666667 42.666667-42.666666s42.666667 17.066667 42.666666 42.666666v256c0 25.6-17.066667 42.666667-42.666666 42.666667zM597.333333 768c-25.6 0-42.666667-17.066667-42.666666-42.666667v-256c0-25.6 17.066667-42.666667 42.666666-42.666666s42.666667 17.066667 42.666667 42.666666v256c0 25.6-17.066667 42.666667-42.666667 42.666667z"
      ></path>
    </svg>
  </div>
</template>

<script>
export default {
  name: "ClearCode",
  data() {
    return {
      message: "Clear",
      timeoutid: null,
    };
  },
  methods: {
    showMessage() {
      this.message = "Cleared";
      this.$emit("handle");
      clearTimeout(this.timeoutid);
      this.timeoutid = setTimeout(() => {
        this.resetMessage();
      }, 800);
    },
    resetMessage() {
      clearTimeout(this.timeoutid);
      this.message = "Clear";
    },
  },
};
</script>

<style scoped lang="scss">
@import "@/styles/code-editor-upbtn.scss";
</style>
